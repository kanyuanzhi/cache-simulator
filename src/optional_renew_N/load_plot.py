import matplotlib as mpl
mpl.use('TkAgg')
import matplotlib.pyplot as plt
import numpy as np

if __name__ == "__main__":
    load_model = [[16.61608275166549, 17.042852597483925, 17.39313153603482, 17.684656975073594, 17.933612002866575, 18.150826554455477, 18.343579249546252, 18.516931730929443, 18.6745282417418, 18.81907405623478, 18.95263067916668, 19.076804507337677, 19.192871479061616, 19.301861930474374, 19.40461991348608], 
                    [16.39651321774201, 17.666897293501723, 19.11663614255072, 20.248520536365373, 20.871570779892135, 21.433473879354157, 21.92612282986682, 22.361000828703403, 22.74902161584704, 23.098795144499753, 23.41694321819874, 23.708584889365028, 23.9777285922544, 24.227558520566173, 24.46063971296392], 
    [17.000787404982145, 19.11663614255072, 21.46902883004781, 23.948601344883084, 26.5093418358104, 29.127018745746014, 30.289075372388965, 30.70672675737047, 31.09447774643362, 31.45477899397064, 31.790820282047843, 32.10531738277464, 32.4005747015592, 32.678579918106806, 32.94106297530031], 
    [17.666897293501723, 20.66740185321826, 23.948601344883084, 27.37642958119548, 30.896371623603322, 34.48026849778552, 38.11149146102406, 40.19945023421303, 40.60865385259746, 40.99224063404806, 41.34907025254775, 41.68164108425921, 41.992797719255755, 42.2851093807359, 42.560771068742326], 
    [18.375867088576015, 22.284371587039082, 26.5093418358104, 30.896371623603322, 35.38413106349416, 39.94135123270736, 44.54972463921169, 49.19752768050063, 50.34150970466728, 50.74411993889616, 51.12197821134978, 51.475137903176275, 51.80571460679642, 52.116088173385535, 52.40847625432684]]

    load_sim_100 = [16.7342, 17.0874, 17.3636, 17.7232, 18.0012, 18.1394, 18.3438, 18.5714, 18.6756, 18.813, 18.9674, 19.0324, 19.2844, 19.2958, 19.4116]

    load_sim_200 = [16.337, 17.6088, 18.8402, 19.772, 20.5874, 21.2222, 21.7354, 22.1734, 22.5518, 23.0682, 23.3176, 23.6364, 23.8988, 24.1152, 24.4588]

    load_sim_300 = [17.0406, 19.0826, 21.4194, 23.9966, 26.4488, 28.3654, 30.3522, 30.0668, 30.5924, 31.561, 31.7324, 31.7706, 31.8934, 32.3744, 32.702]

    load_sim_400 = [17.6926, 20.6764, 23.7974, 27.3122, 30.7622, 34.2584, 37.5112, 40.013, 40.8206, 41.2712, 41.596, 41.2762, 41.5112, 41.9236, 41.9992]

    load_sim_500 = [18.395, 22.1818, 26.366, 30.7808, 35.315, 39.5698, 44.0868, 48.8694, 50.1944, 50.8502, 51.176, 51.741, 51.2122, 51.6164, 52.0658]


    index = [i*0.1+0.1 for i in range(len(load_sim_100))]

    font1 = {
        'family': 'Arial',
        'size': 13,
    }

    font2 = {
        'family': 'Arial',
        'size': 10,
    }

    plt.plot(index, load_sim_100, ".", color="black", label="sim: $C=100$")
    plt.plot(index, load_sim_200, "1", color="black", label="sim: $C=200$")
    plt.plot(index, load_sim_300, "2", color="black", label="sim: $C=300$")
    plt.plot(index, load_sim_400, "+", color="black", label="sim: $C=400$")
    plt.plot(index, load_sim_500, "x", color="black", label="sim: $C=500$")
    plt.plot(index, load_model[0], "-", color="black", linewidth="1", label="model: $C=100$")
    plt.plot(index, load_model[1], "-.", color="black", linewidth="1", label="model: $C=200$")
    plt.plot(index, load_model[2], ":", color="black", linewidth="1", label="model: $C=300$")
    plt.plot(index, load_model[3], "--", color="black", linewidth="1", label="model: $C=400$")
    plt.plot(index, load_model[4], dashes=[10, 2, 10, 2], color="black", linewidth="1", label="model: $C=500$")


    plt.xlabel("$M_p/C$", font1)
    plt.ylabel("server load (req/s)", font1)
    plt.grid(True)
    # plt.axis([50, 255, 0.1, 0.35], font1)
    my_x_ticks = np.arange(0.1, 1.6, 0.2)
    my_y_ticks = np.arange(15, 85, 10)
    plt.xticks(my_x_ticks)
    plt.yticks(my_y_ticks)
    plt.legend(prop=font2,ncol=2,loc='upper left')
    # plt.savefig("kan6.eps")
    plt.show()